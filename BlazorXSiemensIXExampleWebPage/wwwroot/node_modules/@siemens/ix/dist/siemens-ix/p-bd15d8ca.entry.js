import{r as t,h as i,H as s,g as e}from"./p-47ea9884.js";let r=window.innerWidth;const o=class{constructor(i){t(this,i),this.small=!1,this.rounded=!1,this.selected=0,this.layout="auto",this.placement="bottom",this.totalItems=0,this.currentScrollAmount=0,this.scrollAmount=100,this.scrollActionAmount=0,this.clickAction={timeout:null,isClick:!0}}onWindowResize(){if(this.totalItems=0,this.totalItems=this.getTabs().length,0===r)return r=window.innerWidth;this.move(r-window.innerWidth),r=window.innerWidth}getTabs(){return Array.from(this.hostElement.querySelectorAll("ix-tab-item"))}getTab(t){return this.getTabs()[t]}getTabsWrapper(){return this.hostElement.getElementsByClassName("items-content")[0]}showArrows(){try{const t=this.getTabsWrapper();return t.scrollWidth>Math.ceil(t.getBoundingClientRect().width)&&"auto"===this.layout}catch(t){return!1}}showPreviousArrow(){try{return this.showArrows()&&this.scrollActionAmount<0}catch(t){return!1}}showNextArrow(){try{const t=this.getTabsWrapper(),i=t.getBoundingClientRect();return this.showArrows()&&this.scrollActionAmount>-1*(t.scrollWidth-i.width)&&window.innerWidth<=t.scrollWidth}catch(t){return!1}}getArrowStyle(t){return{opacity:t?"1":"0",zIndex:t?"1":"-1"}}move(t,i=!1){const s=this.getTabsWrapper(),e=-1*(s.scrollWidth-s.getBoundingClientRect().width),r=[`transform: translateX(${t=(t=this.currentScrollAmount+t)>0?0:t<e?e:t}px);`,i?"transition: all ease-in-out 400ms;":""].join("");s.setAttribute("style",r),i?this.currentScrollAmount=this.scrollActionAmount=t:this.scrollActionAmount=t}moveTabToView(t){if(!this.showArrows())return;const i=this.getTab(t).getBoundingClientRect();this.move(-1*i.x,!0)}setSelected(t){this.selected=t}clickTab(t){this.dragStop()||(this.setSelected(t),this.moveTabToView(t))}dragStart(t,i){if(!this.showArrows())return;if(i.button>0)return;this.clickAction.timeout=null===this.clickAction.timeout?setTimeout((()=>this.clickAction.isClick=!1),300):null;const s=parseFloat(window.getComputedStyle(t).left),e=i.clientX,r=t=>this.dragMove(t,s,e);window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",r,!1),this.dragStop()})),window.addEventListener("mousemove",r,!1)}dragMove(t,i,s){this.move(t.clientX+i-s)}dragStop(){return clearTimeout(this.clickAction.timeout),this.clickAction.timeout=null,!this.clickAction.isClick&&(this.currentScrollAmount=this.scrollActionAmount,this.clickAction.isClick=!0,!0)}componentDidRender(){const t=this.getTabs();this.totalItems=t.length,t.forEach(((t,i)=>{this.small&&t.setAttribute("small","true"),this.rounded&&t.setAttribute("rounded","true"),t.setAttribute("layout",this.layout),t.setAttribute("selected",i===this.selected?"true":"false"),t.setAttribute("placement",this.placement)}))}componentDidLoad(){this.getTabs().forEach(((t,i)=>{null!==t.getAttribute("disabled")||t.addEventListener("click",(()=>this.clickTab(i))),t.addEventListener("mousedown",(i=>this.dragStart(t,i)))}))}render(){return i(s,null,i("div",{class:"overflow-shadow",style:this.getArrowStyle(this.showPreviousArrow())}),i("div",{class:"arrow",style:this.getArrowStyle(this.showPreviousArrow()),onClick:()=>this.move(this.scrollAmount,!0)},i("span",{class:"glyph glyph-chevron-left-small"})),i("div",{class:"tab-items"},i("div",{class:"items-content"},i("slot",null))),i("div",{class:"overflow-shadow right",style:this.getArrowStyle(this.showNextArrow())}),i("div",{class:"arrow right",style:this.getArrowStyle(this.showNextArrow()),onClick:()=>this.move(-this.scrollAmount,!0)},i("span",{class:"glyph glyph-chevron-right-small"})))}get hostElement(){return e(this)}};o.style="ix-tabs{width:auto;display:flex;align-items:center;position:relative}ix-tabs .tab-items{overflow:hidden;scroll-behavior:smooth}ix-tabs .tab-items .items-content{display:flex;align-items:center}ix-tabs .arrow{position:absolute;display:flex;align-items:center;justify-content:center;width:32px;height:32px;top:0;bottom:0;left:0;margin:auto 0;border-radius:4px;color:var(--theme-btn-invisible-primary--color);background-color:var(--theme-btn-invisible-primary--background);z-index:2}ix-tabs .arrow:hover{color:var(--theme-btn-invisible-primary--color--hover);background-color:var(--theme-btn-invisible-primary--background--hover)}ix-tabs .arrow:active{color:var(--theme-btn-invisible-primary--color--active);background-color:var(--theme-btn-invisible-primary--background--active)}ix-tabs .arrow.right{left:auto;right:0}ix-tabs .overflow-shadow{width:50px;height:40px;position:absolute;left:0;top:0;background:linear-gradient(90deg, var(--theme-color-1) 50%, transparent);z-index:1}ix-tabs .overflow-shadow.right{left:auto;right:0;background:linear-gradient(90deg, transparent, var(--theme-color-1) 50%)}";export{o as ix_tabs}